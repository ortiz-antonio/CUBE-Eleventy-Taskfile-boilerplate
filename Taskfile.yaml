version: '3'

dotenv: ['{{.HOME}}/.env']

includes:
  build: ./taskfiles/build.yaml
  dev: ./taskfiles/dev.yaml
  setup: ./taskfiles/setup.yaml

tasks:
  default:
    - task -a

  deploy:
    cmds:
      - task: clean
      - task: build
      - pnpm gh-pages -d dist -b deploy
      
  clean:
    cmds:
      - rm -rf ./dist
      - mkdir ./dist
